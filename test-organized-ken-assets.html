<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organized Ken Assets Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            color: #333;
            line-height: 1.6;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .test-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .test-section h2 {
            color: #007AFF;
            margin-bottom: 16px;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 16px;
        }

        .image-item {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }

        .image-item img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .image-item h3 {
            font-size: 14px;
            margin-bottom: 4px;
            color: #333;
        }

        .image-item p {
            font-size: 12px;
            color: #666;
        }

        .status {
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
        }

        .status.loading {
            background: #d1ecf1;
            color: #0c5460;
        }

        button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 4px;
        }

        button:hover {
            background: #0056CC;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Organized Ken Assets Test</h1>
        
        <div class="test-section">
            <h2>Asset Organization Status</h2>
            <div id="organization-status">
                <span class="status loading">Checking asset organization...</span>
            </div>
            <button onclick="checkAssetOrganization()">Check Organization</button>
        </div>

        <div class="test-section">
            <h2>Base States</h2>
            <div class="image-grid" id="base-states">
                <div class="image-item">
                    <img src="lesson-player-deploy/assets/avatars/ken/ken_neutral_default.png" 
                         alt="Ken Neutral Default" 
                         onload="this.parentElement.querySelector('p').textContent = 'Loaded successfully'"
                         onerror="this.parentElement.querySelector('p').textContent = 'Failed to load'">
                    <h3>ken_neutral_default.png</h3>
                    <p class="status loading">Loading...</p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Emotional Expressions</h2>
            <div class="image-grid" id="emotional-expressions">
                <div class="image-item">
                    <img src="lesson-player-deploy/assets/avatars/ken/emotional-expressions/ken_happy_celebrating.png" 
                         alt="Ken Happy Celebrating" 
                         onload="this.parentElement.querySelector('p').textContent = 'Loaded successfully'"
                         onerror="this.parentElement.querySelector('p').textContent = 'Failed to load'">
                    <h3>ken_happy_celebrating.png</h3>
                    <p class="status loading">Loading...</p>
                </div>
                <div class="image-item">
                    <img src="lesson-player-deploy/assets/avatars/ken/emotional-expressions/ken_concerned_thinking.png" 
                         alt="Ken Concerned Thinking" 
                         onload="this.parentElement.querySelector('p').textContent = 'Loaded successfully'"
                         onerror="this.parentElement.querySelector('p').textContent = 'Failed to load'">
                    <h3>ken_concerned_thinking.png</h3>
                    <p class="status loading">Loading...</p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Lesson Sequence</h2>
            <div class="image-grid" id="lesson-sequence">
                <div class="image-item">
                    <img src="lesson-player-deploy/assets/avatars/ken/lesson-sequence/ken_question_curious.png" 
                         alt="Ken Question Curious" 
                         onload="this.parentElement.querySelector('p').textContent = 'Loaded successfully'"
                         onerror="this.parentElement.querySelector('p').textContent = 'Failed to load'">
                    <h3>ken_question_curious.png</h3>
                    <p class="status loading">Loading...</p>
                </div>
                <div class="image-item">
                    <img src="lesson-player-deploy/assets/avatars/ken/lesson-sequence/ken_teaching_explaining.png" 
                         alt="Ken Teaching Explaining" 
                         onload="this.parentElement.querySelector('p').textContent = 'Loaded successfully'"
                         onerror="this.parentElement.querySelector('p').textContent = 'Failed to load'">
                    <h3>ken_teaching_explaining.png</h3>
                    <p class="status loading">Loading...</p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Ken Wallpaper System Test</h2>
            <div id="ken-wallpaper-test">
                <button onclick="testKenWallpaperSystem()">Test Ken Wallpaper System</button>
                <div id="wallpaper-status" style="margin-top: 16px;">
                    <span class="status loading">Ready to test</span>
                </div>
            </div>
        </div>
    </div>

    <script src="ken-wallpaper-system.js"></script>
    <script>
        function checkAssetOrganization() {
            const statusElement = document.getElementById('organization-status');
            statusElement.innerHTML = '<span class="status loading">Checking asset organization...</span>';
            
            // Test if organized assets exist
            const testImages = [
                'lesson-player-deploy/assets/avatars/ken/ken_neutral_default.png',
                'lesson-player-deploy/assets/avatars/ken/emotional-expressions/ken_happy_celebrating.png',
                'lesson-player-deploy/assets/avatars/ken/emotional-expressions/ken_concerned_thinking.png',
                'lesson-player-deploy/assets/avatars/ken/lesson-sequence/ken_question_curious.png',
                'lesson-player-deploy/assets/avatars/ken/lesson-sequence/ken_teaching_explaining.png'
            ];
            
            let loadedCount = 0;
            let totalCount = testImages.length;
            
            testImages.forEach((imagePath, index) => {
                const img = new Image();
                img.onload = () => {
                    loadedCount++;
                    if (loadedCount === totalCount) {
                        statusElement.innerHTML = `<span class="status success">✅ All ${totalCount} organized assets loaded successfully!</span>`;
                    }
                };
                img.onerror = () => {
                    loadedCount++;
                    if (loadedCount === totalCount) {
                        statusElement.innerHTML = `<span class="status error">❌ ${totalCount - loadedCount} assets failed to load</span>`;
                    }
                };
                img.src = imagePath;
            });
        }

        function testKenWallpaperSystem() {
            const statusElement = document.getElementById('wallpaper-status');
            statusElement.innerHTML = '<span class="status loading">Testing Ken wallpaper system...</span>';
            
            if (window.kenWallpaperSystem) {
                // Test expression switching
                const testExpressions = [
                    'ken_neutral_default',
                    'ken_happy_celebrating',
                    'ken_concerned_thinking',
                    'ken_question_curious',
                    'ken_teaching_explaining'
                ];
                
                let testIndex = 0;
                const testInterval = setInterval(() => {
                    if (testIndex < testExpressions.length) {
                        const expression = testExpressions[testIndex];
                        window.kenWallpaperSystem.updateKenExpression('opening', 'neutral', 'neutral');
                        statusElement.innerHTML = `<span class="status loading">Testing: ${expression}</span>`;
                        testIndex++;
                    } else {
                        clearInterval(testInterval);
                        statusElement.innerHTML = `<span class="status success">✅ Ken wallpaper system working correctly!</span>`;
                    }
                }, 1000);
            } else {
                statusElement.innerHTML = '<span class="status error">❌ Ken wallpaper system not found</span>';
            }
        }

        // Auto-check on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(checkAssetOrganization, 1000);
        });
    </script>
</body>
</html> 